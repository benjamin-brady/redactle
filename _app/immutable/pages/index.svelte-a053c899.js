import{S as Be,i as Oe,s as Ie,l as ue,g as K,n as me,d as X,e as Y,t as S,c as w,a as J,h as z,b as g,K as he,J as f,L as re,j as ae,M as $e,N as et,p as te,q as ge,r as P,k as D,m as q,O as Ze,P as tt,Q as be,R as lt,w as st,o as ve,T as ot,x as Le,y as Me,z as Pe,C as xe}from"../chunks/index-97e26356.js";function nt(l){let e,t=(l[3]?"\u2588".repeat(l[1].length):l[1])+"",s,a,o,u;return{c(){e=Y("span"),s=S(t),this.h()},l(n){e=w(n,"SPAN",{id:!0,class:!0});var i=J(e);s=z(i,t),i.forEach(X),this.h()},h(){g(e,"id",l[0]),g(e,"class",a=he((l[2]?"highlight":"")+(l[3]?" redacted":""))+" svelte-h2j861")},m(n,i){K(n,e,i),f(e,s),o||(u=re(e,"click",l[5]),o=!0)},p(n,i){i&10&&t!==(t=(n[3]?"\u2588".repeat(n[1].length):n[1])+"")&&ae(s,t),i&1&&g(e,"id",n[0]),i&12&&a!==(a=he((n[2]?"highlight":"")+(n[3]?" redacted":""))+" svelte-h2j861")&&g(e,"class",a)},d(n){n&&X(e),o=!1,u()}}}function rt(l){let e,t=(l[3]?"\u2588".repeat(l[1].length-`${l[1].length}`.length):l[1])+"",s,a,o,u,n=l[3]&&ye(l);return{c(){e=Y("span"),n&&n.c(),s=S(t),this.h()},l(i){e=w(i,"SPAN",{id:!0,class:!0});var r=J(e);n&&n.l(r),s=z(r,t),r.forEach(X),this.h()},h(){g(e,"id",l[0]),g(e,"class",a=he((l[2]?"highlight":"")+(l[3]?" redacted":""))+" svelte-h2j861")},m(i,r){K(i,e,r),n&&n.m(e,null),f(e,s),o||(u=re(e,"click",l[5]),o=!0)},p(i,r){i[3]?n?n.p(i,r):(n=ye(i),n.c(),n.m(e,s)):n&&(n.d(1),n=null),r&10&&t!==(t=(i[3]?"\u2588".repeat(i[1].length-`${i[1].length}`.length):i[1])+"")&&ae(s,t),r&1&&g(e,"id",i[0]),r&12&&a!==(a=he((i[2]?"highlight":"")+(i[3]?" redacted":""))+" svelte-h2j861")&&g(e,"class",a)},d(i){i&&X(e),n&&n.d(),o=!1,u()}}}function ye(l){let e,t=l[1].length+"",s;return{c(){e=Y("span"),s=S(t),this.h()},l(a){e=w(a,"SPAN",{class:!0});var o=J(e);s=z(o,t),o.forEach(X),this.h()},h(){g(e,"class","char_count svelte-h2j861")},m(a,o){K(a,e,o),f(e,s)},p(a,o){o&2&&t!==(t=a[1].length+"")&&ae(s,t)},d(a){a&&X(e)}}}function at(l){let e;function t(o,u){return o[4]?rt:nt}let s=t(l),a=s(l);return{c(){a.c(),e=ue()},l(o){a.l(o),e=ue()},m(o,u){a.m(o,u),K(o,e,u)},p(o,[u]){s===(s=t(o))&&a?a.p(o,u):(a.d(1),a=s(o),a&&(a.c(),a.m(e.parentNode,e)))},i:me,o:me,d(o){a.d(o),o&&X(e)}}}function it(l,e,t){let{id:s}=e,{value:a=""}=e,{highlight:o=!1}=e,{redacted:u=!1}=e,n=!1;function i(){t(4,n=!n)}return l.$$set=r=>{"id"in r&&t(0,s=r.id),"value"in r&&t(1,a=r.value),"highlight"in r&&t(2,o=r.highlight),"redacted"in r&&t(3,u=r.redacted)},[s,a,o,u,n,i]}class Ce extends Be{constructor(e){super(),Oe(this,e,it,at,Ie,{id:0,value:1,highlight:2,redacted:3})}}var ct=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},De={exports:{}};(function(l){(function(e){if(typeof t!="function"){var t=function(c){return c};t.nonNative=!0}const s=t("plaintext"),a=t("html"),o=t("comment"),u=/<(\w*)>/g,n=/<\/?([^\s\/>]+)/;function i(c,W,Z){c=c||"",W=W||[],Z=Z||"";let T=v(W,Z);return Q(c,T)}function r(c,W){c=c||[],W=W||"";let Z=v(c,W);return function(E){return Q(E||"",Z)}}i.init_streaming_mode=r;function v(c,W){return c=V(c),{allowable_tags:c,tag_replacement:W,state:s,tag_buffer:"",depth:0,in_quote_char:""}}function Q(c,W){if(typeof c!="string")throw new TypeError("'html' parameter must be a string");let Z=W.allowable_tags,T=W.tag_replacement,E=W.state,R=W.tag_buffer,O=W.depth,j=W.in_quote_char,I="";for(let k=0,H=c.length;k<H;k++){let N=c[k];if(E===s)switch(N){case"<":E=a,R+=N;break;default:I+=N;break}else if(E===a)switch(N){case"<":if(j)break;O++;break;case">":if(j)break;if(O){O--;break}j="",E=s,R+=">",Z.has(_(R))?I+=R:I+=T,R="";break;case'"':case"'":N===j?j="":j=j||N,R+=N;break;case"-":R==="<!-"&&(E=o),R+=N;break;case" ":case`
`:if(R==="<"){E=s,I+="< ",R="";break}R+=N;break;default:R+=N;break}else if(E===o)switch(N){case">":R.slice(-2)=="--"&&(E=s),R="";break;default:R+=N;break}}return W.state=E,W.tag_buffer=R,W.depth=O,W.in_quote_char=j,I}function V(c){let W=new Set;if(typeof c=="string"){let Z;for(;Z=u.exec(c);)W.add(Z[1])}else!t.nonNative&&typeof c[t.iterator]=="function"?W=new Set(c):typeof c.forEach=="function"&&c.forEach(W.add,W);return W}function _(c){let W=n.exec(c);return W?W[1].toLowerCase():null}l.exports?l.exports=i:e.striptags=i})(ct)})(De);var We=De.exports;function dt(l){return l<.5?4*l*l*l:.5*Math.pow(2*l-2,3)+1}var le={$(l){return typeof l=="string"?document.querySelector(l):l},extend(...l){return Object.assign(...l)},cumulativeOffset(l){let e=0,t=0;do e+=l.offsetTop||0,t+=l.offsetLeft||0,l=l.offsetParent;while(l);return{top:e,left:t}},directScroll(l){return l&&l!==document&&l!==document.body},scrollTop(l,e){let t=e!==void 0;return this.directScroll(l)?t?l.scrollTop=e:l.scrollTop:t?document.documentElement.scrollTop=document.body.scrollTop=e:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},scrollLeft(l,e){let t=e!==void 0;return this.directScroll(l)?t?l.scrollLeft=e:l.scrollLeft:t?document.documentElement.scrollLeft=document.body.scrollLeft=e:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0}};const ut={container:"body",duration:500,delay:0,offset:0,easing:dt,onStart:me,onDone:me,onAborting:me,scrollX:!1,scrollY:!0},ht=l=>{let{offset:e,duration:t,delay:s,easing:a,x:o=0,y:u=0,scrollX:n,scrollY:i,onStart:r,onDone:v,container:Q,onAborting:V,element:_}=l;typeof e=="function"&&(e=e());var c=le.cumulativeOffset(Q),W=_?le.cumulativeOffset(_):{top:u,left:o},Z=le.scrollLeft(Q),T=le.scrollTop(Q),E=W.left-c.left+e,R=W.top-c.top+e,O=E-Z,j=R-T;let I=!0,k=!1,H=$e()+s,N=H+t;function oe(B,L,$){n&&le.scrollLeft(B,$),i&&le.scrollTop(B,L)}function A(B){B||(k=!0,r(_,{x:o,y:u}))}function ee(B){oe(Q,T+j*B,Z+O*B)}function x(){I=!1}return et(B=>{if(!k&&B>=H&&A(!1),k&&B>=N&&(ee(1),x(),v(_,{x:o,y:u})),!I)return V(_,{x:o,y:u}),!1;if(k){const L=B-H,$=0+1*a(L/t);ee($)}return!0}),A(s),ee(0),x},ft=l=>{let e=le.extend({},ut,l);return e.container=le.$(e.container),e.element=le.$(e.element),e},Fe=l=>ht(ft(l));function Re(l,e,t){const s=l.slice();return s[31]=e[t],s[33]=t,s}function ke(l,e,t){const s=l.slice();return s[34]=e[t],s[33]=t,s}function Ye(l,e,t){const s=l.slice();return s[36]=e[t],s}function we(l,e,t){const s=l.slice();return s[36]=e[t],s}function Qe(l){let e,t;return{c(){e=Y("p"),t=S("loading..."),this.h()},l(s){e=w(s,"P",{class:!0});var a=J(e);t=z(a,"loading..."),a.forEach(X),this.h()},h(){g(e,"class","svelte-13hd9ro")},m(s,a){K(s,e,a),f(e,t)},d(s){s&&X(e)}}}function Te(l){let e,t,s=Object.keys(l[4].guesses).length+"",a,o,u=l[7]()+"",n,i;return{c(){e=Y("p"),t=S("Solved in "),a=S(s),o=S(" guesses with "),n=S(u),i=S("% accuracy!"),this.h()},l(r){e=w(r,"P",{id:!0,class:!0});var v=J(e);t=z(v,"Solved in "),a=z(v,s),o=z(v," guesses with "),n=z(v,u),i=z(v,"% accuracy!"),v.forEach(X),this.h()},h(){g(e,"id","solved-message"),g(e,"class","svelte-13hd9ro")},m(r,v){K(r,e,v),f(e,t),f(e,a),f(e,o),f(e,n),f(e,i)},p(r,v){v[0]&16&&s!==(s=Object.keys(r[4].guesses).length+"")&&ae(a,s)},d(r){r&&X(e)}}}function mt(l){let e,t,s,a=l[34].tokens,o=[];for(let n=0;n<a.length;n+=1)o[n]=Ne(Ye(l,a,n));const u=n=>te(o[n],1,1,()=>{o[n]=null});return{c(){e=Y("p");for(let n=0;n<o.length;n+=1)o[n].c();t=D(),this.h()},l(n){e=w(n,"P",{class:!0});var i=J(e);for(let r=0;r<o.length;r+=1)o[r].l(i);t=q(i),i.forEach(X),this.h()},h(){g(e,"class","svelte-13hd9ro")},m(n,i){K(n,e,i);for(let r=0;r<o.length;r+=1)o[r].m(e,null);f(e,t),s=!0},p(n,i){if(i[0]&1){a=n[34].tokens;let r;for(r=0;r<a.length;r+=1){const v=Ye(n,a,r);o[r]?(o[r].p(v,i),P(o[r],1)):(o[r]=Ne(v),o[r].c(),P(o[r],1),o[r].m(e,t))}for(ve(),r=a.length;r<o.length;r+=1)u(r);ge()}},i(n){if(!s){for(let i=0;i<a.length;i+=1)P(o[i]);s=!0}},o(n){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)te(o[i]);s=!1},d(n){n&&X(e),be(o,n)}}}function pt(l){let e,t,s,a=l[34].tokens,o=[];for(let n=0;n<a.length;n+=1)o[n]=Ue(we(l,a,n));const u=n=>te(o[n],1,1,()=>{o[n]=null});return{c(){e=Y("h2");for(let n=0;n<o.length;n+=1)o[n].c();t=D(),this.h()},l(n){e=w(n,"H2",{id:!0,class:!0});var i=J(e);for(let r=0;r<o.length;r+=1)o[r].l(i);t=q(i),i.forEach(X),this.h()},h(){g(e,"id","headline-section-"+l[33]),g(e,"class","svelte-13hd9ro")},m(n,i){K(n,e,i);for(let r=0;r<o.length;r+=1)o[r].m(e,null);f(e,t),s=!0},p(n,i){if(i[0]&1){a=n[34].tokens;let r;for(r=0;r<a.length;r+=1){const v=we(n,a,r);o[r]?(o[r].p(v,i),P(o[r],1)):(o[r]=Ue(v),o[r].c(),P(o[r],1),o[r].m(e,t))}for(ve(),r=a.length;r<o.length;r+=1)u(r);ge()}},i(n){if(!s){for(let i=0;i<a.length;i+=1)P(o[i]);s=!0}},o(n){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)te(o[i]);s=!1},d(n){n&&X(e),be(o,n)}}}function Ne(l){let e,t;return e=new Ce({props:{id:l[36].id,value:l[36].value,redacted:l[36].redacted,highlight:l[36].highlight||!1}}),{c(){Le(e.$$.fragment)},l(s){Me(e.$$.fragment,s)},m(s,a){Pe(e,s,a),t=!0},p(s,a){const o={};a[0]&1&&(o.id=s[36].id),a[0]&1&&(o.value=s[36].value),a[0]&1&&(o.redacted=s[36].redacted),a[0]&1&&(o.highlight=s[36].highlight||!1),e.$set(o)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){te(e.$$.fragment,s),t=!1},d(s){xe(e,s)}}}function Ue(l){let e,t;return e=new Ce({props:{id:l[36].id,value:l[36].value,redacted:l[36].redacted,highlight:l[36].highlight||!1}}),{c(){Le(e.$$.fragment)},l(s){Me(e.$$.fragment,s)},m(s,a){Pe(e,s,a),t=!0},p(s,a){const o={};a[0]&1&&(o.id=s[36].id),a[0]&1&&(o.value=s[36].value),a[0]&1&&(o.redacted=s[36].redacted),a[0]&1&&(o.highlight=s[36].highlight||!1),e.$set(o)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){te(e.$$.fragment,s),t=!1},d(s){xe(e,s)}}}function Je(l){let e,t,s,a;const o=[pt,mt],u=[];function n(i,r){return i[34].headline?0:1}return e=n(l),t=u[e]=o[e](l),{c(){t.c(),s=ue()},l(i){t.l(i),s=ue()},m(i,r){u[e].m(i,r),K(i,s,r),a=!0},p(i,r){let v=e;e=n(i),e===v?u[e].p(i,r):(ve(),te(u[v],1,1,()=>{u[v]=null}),ge(),t=u[e],t?t.p(i,r):(t=u[e]=o[e](i),t.c()),P(t,1),t.m(s.parentNode,s))},i(i){a||(P(t),a=!0)},o(i){te(t),a=!1},d(i){u[e].d(i),i&&X(s)}}}function Se(l){let e,t,s=l[31]+"",a,o,u=l[4].guesses[l[31]]+"",n,i,r,v,Q;return{c(){e=Y("span"),t=Y("b"),a=S(s),o=S("("),n=S(u),i=S(")"),this.h()},l(V){e=w(V,"SPAN",{class:!0});var _=J(e);t=w(_,"B",{});var c=J(t);a=z(c,s),c.forEach(X),o=z(_,"("),n=z(_,u),i=z(_,")"),_.forEach(X),this.h()},h(){g(e,"class",r=he((l[2]==l[31]?"highlight":"")+(l[4].guesses[l[31]]>0?" hit":" miss")+" word")+" svelte-13hd9ro")},m(V,_){K(V,e,_),f(e,t),f(t,a),f(e,o),f(e,n),f(e,i),v||(Q=re(e,"click",function(){ot(l[6](l[31],!0))&&l[6](l[31],!0).apply(this,arguments)}),v=!0)},p(V,_){l=V,_[0]&16&&s!==(s=l[31]+"")&&ae(a,s),_[0]&16&&u!==(u=l[4].guesses[l[31]]+"")&&ae(n,u),_[0]&20&&r!==(r=he((l[2]==l[31]?"highlight":"")+(l[4].guesses[l[31]]>0?" hit":" miss")+" word")+" svelte-13hd9ro")&&g(e,"class",r)},d(V){V&&X(e),v=!1,Q()}}}function ze(l){let e,t=Se(l);return{c(){t&&t.c(),e=ue()},l(s){t&&t.l(s),e=ue()},m(s,a){t&&t.m(s,a),K(s,e,a)},p(s,a){t?t.p(s,a):(t=Se(s),t.c(),t.m(e.parentNode,e))},d(s){t&&t.d(s),s&&X(e)}}}function bt(l){let e,t,s,a,o,u,n,i,r,v,Q,V,_,c,W,Z,T,E,R=Object.keys(l[4].guesses).length+"",O,j,I,k,H,N,oe,A,ee,x,B,L,$,fe,d,h=l[3]&&Qe(),G=l[4].solved&&Te(l),y=l[0],p=[];for(let m=0;m<y.length;m+=1)p[m]=Je(ke(l,y,m));const C=m=>te(p[m],1,1,()=>{p[m]=null});let M=Object.keys(l[4].guesses).reverse(),U=[];for(let m=0;m<M.length;m+=1)U[m]=ze(Re(l,M,m));return{c(){e=Y("div"),t=Y("nav"),s=Y("h1"),a=S("Redactle Unlimited"),o=D(),u=Y("button"),n=S("New Game"),i=D(),r=Y("p"),v=S(`A puzzle game to guess the title of a random Wikipedia article by revealing the words from the article. 
		Similar to redactle.com but without the daily game limit.`),Q=D(),V=Y("div"),h&&h.c(),_=D(),G&&G.c(),c=D();for(let m=0;m<p.length;m+=1)p[m].c();W=D(),Z=Y("div"),T=Y("h3"),E=S("Guesses ("),O=S(R),j=S(")"),I=D(),k=Y("form"),H=Y("button"),N=S("\u25B2 Top"),oe=D(),A=Y("input"),ee=D(),x=Y("input"),B=D(),L=Y("div");for(let m=0;m<U.length;m+=1)U[m].c();this.h()},l(m){e=w(m,"DIV",{id:!0,class:!0});var F=J(e);t=w(F,"NAV",{class:!0});var b=J(t);s=w(b,"H1",{class:!0});var se=J(s);a=z(se,"Redactle Unlimited"),se.forEach(X),o=q(b),u=w(b,"BUTTON",{id:!0,class:!0});var Ve=J(u);n=z(Ve,"New Game"),Ve.forEach(X),i=q(b),r=w(b,"P",{class:!0});var Ge=J(r);v=z(Ge,`A puzzle game to guess the title of a random Wikipedia article by revealing the words from the article. 
		Similar to redactle.com but without the daily game limit.`),Ge.forEach(X),b.forEach(X),Q=q(F),V=w(F,"DIV",{id:!0,class:!0});var ie=J(V);h&&h.l(ie),_=q(ie),G&&G.l(ie),c=q(ie);for(let ne=0;ne<p.length;ne+=1)p[ne].l(ie);ie.forEach(X),W=q(F),Z=w(F,"DIV",{id:!0,class:!0});var ce=J(Z);T=w(ce,"H3",{class:!0});var pe=J(T);E=z(pe,"Guesses ("),O=z(pe,R),j=z(pe,")"),pe.forEach(X),I=q(ce),k=w(ce,"FORM",{id:!0,class:!0});var de=J(k);H=w(de,"BUTTON",{id:!0,type:!0,class:!0});var Xe=J(H);N=z(Xe,"\u25B2 Top"),Xe.forEach(X),oe=q(de),A=w(de,"INPUT",{id:!0,placeholder:!0,autocomplete:!0,class:!0}),ee=q(de),x=w(de,"INPUT",{id:!0,type:!0,class:!0}),de.forEach(X),B=q(ce),L=w(ce,"DIV",{id:!0,class:!0});var _e=J(L);for(let ne=0;ne<U.length;ne+=1)U[ne].l(_e);_e.forEach(X),ce.forEach(X),F.forEach(X),this.h()},h(){g(s,"class","svelte-13hd9ro"),g(u,"id","new-game"),g(u,"class","svelte-13hd9ro"),g(r,"class","info svelte-13hd9ro"),g(t,"class","svelte-13hd9ro"),g(V,"id","article"),g(V,"class","svelte-13hd9ro"),g(T,"class","svelte-13hd9ro"),g(H,"id","btn-top"),g(H,"type","button"),g(H,"class","svelte-13hd9ro"),g(A,"id","input-guess"),g(A,"placeholder","guess a word..."),g(A,"autocomplete","off"),g(A,"class","svelte-13hd9ro"),g(x,"id","submit"),g(x,"type","submit"),x.value="Guess",g(x,"class","svelte-13hd9ro"),g(k,"id","guess-form"),g(k,"class","svelte-13hd9ro"),g(L,"id","guess-list"),g(L,"class","svelte-13hd9ro"),g(Z,"id","guesses"),g(Z,"class","svelte-13hd9ro"),g(e,"id","main"),g(e,"class","svelte-13hd9ro")},m(m,F){K(m,e,F),f(e,t),f(t,s),f(s,a),f(t,o),f(t,u),f(u,n),f(t,i),f(t,r),f(r,v),f(e,Q),f(e,V),h&&h.m(V,null),f(V,_),G&&G.m(V,null),f(V,c);for(let b=0;b<p.length;b+=1)p[b].m(V,null);f(e,W),f(e,Z),f(Z,T),f(T,E),f(T,O),f(T,j),f(Z,I),f(Z,k),f(k,H),f(H,N),f(k,oe),f(k,A),Ze(A,l[1]),f(k,ee),f(k,x),f(Z,B),f(Z,L);for(let b=0;b<U.length;b+=1)U[b].m(L,null);$=!0,fe||(d=[re(u,"click",l[5]),re(H,"click",l[9]),re(A,"input",l[10]),re(k,"submit",tt(l[8]))],fe=!0)},p(m,F){if(m[3]?h||(h=Qe(),h.c(),h.m(V,_)):h&&(h.d(1),h=null),m[4].solved?G?G.p(m,F):(G=Te(m),G.c(),G.m(V,c)):G&&(G.d(1),G=null),F[0]&1){y=m[0];let b;for(b=0;b<y.length;b+=1){const se=ke(m,y,b);p[b]?(p[b].p(se,F),P(p[b],1)):(p[b]=Je(se),p[b].c(),P(p[b],1),p[b].m(V,null))}for(ve(),b=y.length;b<p.length;b+=1)C(b);ge()}if((!$||F[0]&16)&&R!==(R=Object.keys(m[4].guesses).length+"")&&ae(O,R),F[0]&2&&A.value!==m[1]&&Ze(A,m[1]),F[0]&84){M=Object.keys(m[4].guesses).reverse();let b;for(b=0;b<M.length;b+=1){const se=Re(m,M,b);U[b]?U[b].p(se,F):(U[b]=ze(se),U[b].c(),U[b].m(L,null))}for(;b<U.length;b+=1)U[b].d(1);U.length=M.length}},i(m){if(!$){for(let F=0;F<y.length;F+=1)P(p[F]);$=!0}},o(m){p=p.filter(Boolean);for(let F=0;F<p.length;F+=1)te(p[F]);$=!1},d(m){m&&X(e),h&&h.d(),G&&G.d(),be(p,m),be(U,m),fe=!1,lt(d)}}}let gt=/([\u00BF-\u1FFF\u2C00-\uD7FF\w]+)([^\u00BF-\u1FFF\u2C00-\uD7FF\w]*)/ig;const qe="solved_game_history";function vt(){let e=window.location.hash.substring(1).split("&"),t=new Map;return e.forEach(s=>{const a=s.split("/");a.length===2&&t.set(a[0],a[1])}),t}function Ee(l,e){try{gtag("event",l,e)}catch(t){console.log(t)}}function Wt(){return JSON.parse(localStorage.getItem(qe)||"{}")}function Vt(){let l=document.getElementById("headline-section-0");l&&l.scrollIntoView()}function je(l,e){return`${Ke(l).replaceAll("=","a")}${e}`}function Ke(l){let e=encodeURIComponent(l).replace(/%([a-f0-9]{2})/gi,(t,s)=>String.fromCharCode(parseInt(s,16)));return btoa(e)}function He(l){let e=atob(l).replace(/[\x80-\uffff]/g,t=>`%${t.charCodeAt(0).toString(16).padStart(2,"0")}`);return decodeURIComponent(e)}function Ae(l){return l.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().split(" ")[0]}function Gt(l,e,t){let s=[];const a=["a","aboard","about","above","across","after","against","along","amid","among","an","and","around","as","at","because","before","behind","below","beneath","beside","between","beyond","but","by","concerning","considering","despite","down","during","except","following","for","from","if","in","inside","into","is","it","like","minus","near","next","of","off","on","onto","opposite","or","out","outside","over","past","per","plus","regarding","round","save","since","than","the","through","till","to","toward","under","underneath","unlike","until","up","upon","versus","via","was","with","within","without"];let o={};a.forEach(d=>o[d]=1);const u=["UmljaGFyZF9JX29mX0VuZ2xhbmQ=","RWFzdF9DaGluYV9TZWE=","UGl6emE=","UG9pc29u","UHVtcF9vcmdhbg==","QXByaWNvdA==","VGl0aGU=","VmlkZW9fYXJ0","U3VwZXJjb25kdWN0aXZpdHk=","WmlvbmlzbQ==","UGln","U3VsZnVyaWNfYWNpZA==","RGltZW5zaW9u","UHJvdG9u","Q291bmNpbF9vZl9FdXJvcGU=","Um9zZXR0YV9TdG9uZQ==","QXBvbGxvXzEx","R29kYXZhcmlfUml2ZXI=","R2VvcmdlX0MuX01hcnNoYWxs","Q29uZ3Jlc3Nfb2ZfQmVybGlu","V2FzaGluZ3Rvbl9JcnZpbmc=","TWV0YWxsdXJneQ==","VGhvbWFzX0hlbnJ5X0h1eGxleQ==","SG9yaXpvbg==","TWVsdGluZw==","SmVsbHlmaXNo","U2VhdHRsZQ==","Sm9obl90aGVfQmFwdGlzdA==","SG9ybW9uZQ==","RHJhZ29u","U2F3","SGFydWtpX011cmFrYW1p","QWJpb2dlbmVzaXM=","RXhwbG9yYXRpb24=","RGVyaXZhdGl2ZQ==","SXZhbl9QYXZsb3Y=","UGVudGVjb3N0","TnVtZXJpY2FsX2RpZ2l0","VmlkZW9fY2FtZXJh","SW50ZXJuYXRpb25hbF9yZWxhdGlvbnM=","TG91aXNfUGhpbGlwcGVfSQ==","RGVyX1NwaWVnZWw=","V2F0Y2g=","RXRoaW9waWFuX0NpdmlsX1dhcg==","TW91bnRfTG9nYW4=","VmlraW5nX0FnZQ==","QnJvd25pYW5fbW90aW9u","TW9kZXJuX3BlbnRhdGhsb24=","RWlmZmVsX1Rvd2Vy","Um9tYW50aWNpc20=","UHRvbGVteQ==","RWFyd2ln","QXp0ZWNz","Q3J5c3RhbF9zdHJ1Y3R1cmU=","U3Jpbml2YXNhX1JhbWFudWphbg==","QnVz","U3VyYXQ=","RWxpemFiZXRoX0NhZHlfU3RhbnRvbg==","VHJhbnNpdGlvbl9tZXRhbA==","U3RyaW5nX2luc3RydW1lbnQ=","QmVuZWx1eA==","UHJpc20=","QW5reWxvc2F1cnVz","UG9wZQ==","Q2VjaWxfUmhvZGVz","UHN5Y2hvYW5hbHlzaXM=","U2FuZ3JpYQ==","Q29nbml0aXZlX3BzeWNob2xvZ3k=","VmlvbGE=","RnJlbmNoX0ZpcnN0X1JlcHVibGlj","VGlncmlz","T1BFQw==","RnJpZWRyaWNoX05pZXR6c2NoZQ==","SmV0X1Byb3B1bHNpb25fTGFib3JhdG9yeQ==","RG9waW5nX2luX3Nwb3J0","V2FsdF9XaGl0bWFu","UGhpbG9zb3BoaWNhbF9sb2dpYw==","SGlzdG9yeV9vZl90aGVfRWFydGg=","R2Fz","R2VuZXRpY2FsbHlfbW9kaWZpZWRfb3JnYW5pc20=","RnJ1Y3Rvc2U=","QXN0ZXJvaWRfYmVsdA==","R2VyaWF0cmljcw==","Tm9ydGhfUG9sZQ==","Uml2ZXJfZGVsdGE=","V2lsbGlhbV9TaGFrZXNwZWFyZQ==","VGhhaWxhbmQ=","Q29tbW9uX2NvbGQ=","VXJzYV9NYWpvcg==","Q2hyaXN0aWFuX0NodXJjaA==","QXJlYQ==","QW1hdGV1cl90aGVhdHJl","R2xlbm5fTWlsbGVy","QWxpX0toYW1lbmVp","Q2lubmFtb24=","VGhlX0JhaGFtYXM=","S2F6YWtoX2xhbmd1YWdl","VGFpZ2E=","TXVsdGlwbGljYXRpb24=","RnJlZV9Tb2Z0d2FyZV9Gb3VuZGF0aW9u","SGFtbWVy","RGlja19Gb3NidXJ5","QXV0aG9yaXR5","QXN0ZXJpeA==","V2F2ZWd1aWRl","QW5nbGU=","TnVjbGVhcl9jaGVtaXN0cnk=","UXVlZW4=","TWlsaXRhcnlfc2NpZW5jZQ==","RWxvbl9NdXNr","TW91bnRfT2x5bXB1cw==","UGF1bF9LbGVl","RWR3YXJkX1RlbGxlcg==","Q2xhbXBfKHRvb2wp","U2hhcms=","UGhpbGFkZWxwaGlh","VHJvcGljYWxfZm9yZXN0","U2VzYW1lX1N0cmVldA==","QWxiZXJ0X0VpbnN0ZWlu","UG9uY2VfZGVfTGVvbg==","VHJhaW4=","UGVkcm9fSUlfb2ZfQnJhemls","UG90YXNzaXVtX2h5ZHJveGlkZQ==","Q2hpY2tlbg==","TG93ZXJfUGFsZW9saXRoaWM=","QWNyb3BvbGlzX29mX0F0aGVucw==","SW9uX3RocnVzdGVy","TWFhc2FpX3Blb3BsZQ==","SV9Mb3ZlX0x1Y3k=","Q29sb25lbA==","Q2FyZWVy","V3Jlc3RsaW5n","R2VuZXJhbF9wcmFjdGl0aW9uZXI=","TW91bnRhaW4=","SHlkcm9nZW5fYm9uZA==","UEhQ","SVVQQUNfbm9tZW5jbGF0dXJlX29mX29yZ2FuaWNfY2hlbWlzdHJ5","TmV3X1plYWxhbmQ=","U2lraGlzbQ==","U2tp","U29waG9jbGVz","Q2FwYWNpdG9y","SGlzdG9yeV9vZl9tdXNpYw==","UGFybWVuaWRlcw==","Rm9yZWlnbl9wb2xpY3k=","UGVudGhvdXNlX2FwYXJ0bWVudA==","TGFicmFkb3JfU2Vh","V29yZF9wcm9jZXNzb3I=","SnVkaWNpYXJ5","TXVhbW1hcl9HYWRkYWZp","TWlzc2lzc2lwcGlfUml2ZXI=","TWFybG9uX0JyYW5kbw==","Q29tYmluZV9oYXJ2ZXN0ZXI=","Q2hhbWJlcl9tdXNpYw==","TGFrZV9CYWlrYWw=","Q29uc3RhbnRpbmVfdGhlX0dyZWF0","SGlzdG9yeV9vZl9JcmVsYW5k","RW1iZXp6bGVtZW50","Q2F1c2FsaXR5","UGVhY2g=","QmVlY2g=","SmFkZV9FbXBlcm9y","VHJhaW5fc3RhdGlvbg==","U3VsZWltYW5fdGhlX01hZ25pZmljZW50","S2FidWtp","Um9ja3lfTW91bnRhaW5z","TWFnbmV0aXNt","Rmxvb2Q=","S29uc3RhbnRpbl9TdGFuaXNsYXZza2k=","TWFydGluX0x1dGhlcg==","UmFpbmVyX1dlcm5lcl9GYXNzYmluZGVy","U2hpdGFv","RWRzZ2VyX1cuX0RpamtzdHJh","TnVjbGVhcl9wb3dlcg==","Q29uY2VwdHVhbF9hcnQ=","RW5naW5l","RXBpZ3JhcGh5","TWluaW1hbGlzbQ==","TGVucw==","Q2hhcmlvdA==","UnVt","U3BhbmlzaF9sYW5ndWFnZQ==","Rm9yd2FyZF9lcnJvcl9jb3JyZWN0aW9u","VGhlX0dvZGZhdGhlcg==","S2l3aWZydWl0","Q2VsbF93YWxs","SHlwZXJ0ZXh0X1RyYW5zZmVyX1Byb3RvY29s","QmhhZ2F2YWRfR2l0YQ==","U2Fsdmlh","Tm9ucHJvZml0X29yZ2FuaXphdGlvbg==","S2F6aW1pcl9NYWxldmljaA==","RHJhY29fKGNvbnN0ZWxsYXRpb24p","VmVkYW50YQ==","Q29yc2ljYQ==","QXJhbWFpY19sYW5ndWFnZQ==","RWFzeV9saXN0ZW5pbmc=","QW5hbHl0aWNfZ2VvbWV0cnk=","Q2FsaXBoYXRl","VGFpd2FuX1N0cmFpdA==","Q2xhc3NpZmljYXRpb25fb2ZfZmluaXRlX3NpbXBsZV9ncm91cHM=","Q2Vhc2VmaXJl","SHlkcm9lbGVjdHJpY2l0eQ==","TG9jaF9OZXNzX01vbnN0ZXI=","TW9iaWxlX3Bob25l","U29jaW9sb2d5","TnVtYmVy","UmVkb3g=","UGVhdA==","Q2FyZ28=","SGVybWFubl9NYWllcg==","VGVtcGVyYXRlX2NsaW1hdGU=","SGF1bWVh","TW9zcXVl","Q2l2aWxfZGlzb2JlZGllbmNl","UmVzcGlyYXRvcnlfc3lzdGVt","TWlkZGxlX0FnZXM=","RGVubmlzX1JpdGNoaWU=","SmF6eg==","TW9jaGVfY3VsdHVyZQ==","U3RpZmZuZXNz","QXJyb3c=","R2x1Y29zZQ==","TGlicmFyeV9vZl9BbGV4YW5kcmlh","U2FoYXJh","Q2V0YWNlYQ==","Q2hpbmE=","VG9ycXVl","U2tvcGpl","QmFtYm9v","U2lsa19Sb2Fk","RXhwb25lbnRpYWxfZnVuY3Rpb24=","U3RhY2tfKGdlb2xvZ3kp","U3RyYWl0X29mX0hvcm11eg==","QmlsbHlfV2lsZGVy","VGluYW1vdQ==","U2NyYW1ibGVfZm9yX0FmcmljYQ==","UGxheV8oYWN0aXZpdHkp","TWloYWlfRW1pbmVzY3U=","U3RldmVfV296bmlhaw==","SHlwb3hpYV8obWVkaWNhbCk=","QWZyaWNhbl9idWZmYWxv","T3Jl","RG9taW5vZXM=","VW5pdmVyc2l0eV9vZl9Db3BlbmhhZ2Vu","Q2VudGlwZWRl","Q2hhcm9u","TWVyeWxfU3RyZWVw","QnJh","U29tYWxpYQ==","U3Vic3RhbmNlX2RlcGVuZGVuY2U=","UHVyaXRhbg==","TWVjY2E=","SHVuZ2Vy","RWd5cHRpYW5faGllcm9nbHlwaHM=","U2tpbl9jYW5jZXI=","RXRobmljX2NvbmZsaWN0","UGVyaXNjb3Bl","WWFr","R3VpdGFy","QmFsa2FuX1dhcnM=","VmVsb2NpdHk=","T3BlcmF0aW9uYWxfYW1wbGlmaWVy","SmFjb2I=","SGFsb2dlbg==","RmF1c3Q=","TGludXNfVG9ydmFsZHM=","QW50b25fQnJ1Y2tuZXI=","VHJpYW5ndWx1bV9HYWxheHk=","WW91dGg=","RHV0eQ==","RmF0","Q29tcGFzcw==","U3VzdGFpbmFibGVfZGV2ZWxvcG1lbnQ=","QW5nbGVyZmlzaA==","Qm95","R3VucG93ZGVy","SW5mb3JtYXRpb24=","SmFwYW4=","UGVyaW9kXzJfZWxlbWVudA==","Q2FyYm9uX21vbm94aWRl","SW5kdXN0cmlhbF9hZ3JpY3VsdHVyZQ==","QmFuaw==","Tm9ydGhfWWVtZW5fQ2l2aWxfV2Fy","UGlnbWVudA==","WW9zZW1pdGVfTmF0aW9uYWxfUGFyaw==","S2FtY2hhdGthX1Blbmluc3VsYQ==","RmlkZWxfQ2FzdHJv","SXJpc2hfU2Vh","SHVtYW5fcmlnaHRz","QXRvbQ==","VG95","U3ByaW5nXyhzZWFzb24p","Uml2ZXI=","UGFzdGE=","U3BhbmlzaF9jb25xdWVzdF9vZl90aGVfSW5jYV9FbXBpcmU=","UGV0ZXJfR2FicmllbA==","QXJhbF9TZWE="];let n=[],i={},r="",v="",Q=0,V={},_=!0,c=T();st(async()=>{W(),R()});function W(){try{let h=localStorage.getItem("gameState");if(h!==null){t(4,c=JSON.parse(h));return}}catch(h){console.log(h)}t(4,c=T());const d=vt();d.has("article")&&t(4,c.urlTitle=He(d.get("article")),c)}function Z(){t(4,c.updated=new Date().getTime(),c);try{localStorage.setItem("gameState",JSON.stringify(c))}catch(d){console.log(d)}}function T(){const d=Math.floor(Math.random()*u.length);return{urlTitle:He(u[d]),guesses:{},solved:!1,updated:new Date().getTime()}}function E(){!confirm("Are you sure you want to start a new game?")||(t(4,c=T()),window.location.hash="#",R(),Z())}async function R(){let h=await(await fetch(`https://en.wikipedia.org/api/rest_v1/page/mobile-sections/${c.urlTitle}`)).json(),G=0,y=h.lead.sections[0].text,p=O(y);t(3,_=!0),G+=p.length,s=[],s.push({text:p,headline:We(h.lead.displaytitle)});let C=0;for(;G<1e5&&C<h.remaining.sections.length;)y=h.remaining.sections[C].text,p=O(y),G+=p.length,s.push({text:p,headline:We(h.remaining.sections[C].line)}),C++;window.location.href="#article/"+Ke(c.urlTitle),j()}function O(d){if(typeof window!="undefined"){var h=new window.DOMParser,G=h.parseFromString(d,"text/html");["style","table","figure"].forEach(M=>{let U=G.getElementsByTagName(M);Array.prototype.slice.call(U,0).forEach(F=>F.remove())}),["navigation-not-searchable","thumbinner","gallery","infobox","hatnote","thumb"].forEach(M=>{let U=G.getElementsByClassName(M);Array.prototype.slice.call(U,0).forEach(F=>F.remove())}),d=G.body.innerHTML}let y=We(d);return y=y.replace(/&nbsp;/g," ").replace(/&(?:amp);/g,"&").replace(/&(?:lt);/g,"<").replace(/&(?:gt);/g,">").replace(/&(?:quot);/g,'"').replace(/&(?:#39);/g,"'"),y=y.replace(/\[\d+\]/ig,""),y}function j(){console.log("rendering..."),t(0,n=[]),V={};for(const d in s)H(s[d].headline,!0),H(s[d].text,!1);t(3,_=!1)}function I(){let d=n[0].tokens.find(h=>h.redacted);t(4,c.solved=d===void 0,c),c.solved&&(k(),Ee("win_game",{title:c.urlTitle}),j(),Fe({container:"#article",element:"#solved-message",duration:150,offset:-25}))}function k(){let d=Wt(),h=c;d[c.urlTitle]=h,localStorage.setItem(qe,JSON.stringify(d)),console.log(`solved: ${c.solved}`)}function H(d,h){let G=[...d.matchAll(gt)],y=N(G);n.push({headline:h,tokens:y})}function N(d){let h=[];for(const G in d){let y=d[G][1];if(y){let p=Ae(y);V[p]=p in V?V[p]+1:1;let C={value:y,wordNormal:p,id:je(p,V[p]-1),redacted:A(p),highlight:p==v};p in i||(i[p]=[]),i[p].push(C),h.push(C)}d[G][2]&&h.push({value:d[G][2]})}return h}function oe(d){!i.hasOwnProperty(d)||(i[d].forEach(h=>{h.redacted=A(d),h.highlight=d==v}),t(0,n=[...n]))}function A(d){return!c.solved&&!o.hasOwnProperty(d)&&!c.guesses.hasOwnProperty(d)}function ee(d,h){if(Q=v==d?Q+1:0,!V.hasOwnProperty(d))return;Q=Q%V[d];let G=v==d&&Q==0;t(2,v=d),n.forEach(C=>{C.tokens.filter(M=>M.highlight==!0).forEach(M=>{M.highlight=!1})});const y=je(v,Q);document.getElementById(y)&&h&&Fe({container:"#article",element:`#${y}`,duration:G?500:150,offset:-25}),oe(d)}function x(){let d=Object.keys(c.guesses).length;if(d==0)return 0;const G=Object.values(c.guesses).filter(y=>y>0).length/d;return`${Math.round(G*1e4)/100}`}function B(){let d=Ae(r);if(!L(d)){console.log("invalid guess"),t(1,r="");return}t(4,c.guesses[d]=V[d]||0,c),ee(d,!1),Z(),t(1,r=""),I(),d=="togglecheats"&&(t(4,c.solved=!c.solved,c),j()),Ee("guess",{word:d})}function L(d){return!(d in o||/^\w+$/.test(d)==!1)}const $=()=>Vt();function fe(){r=this.value,t(1,r)}return[n,r,v,_,c,E,ee,x,B,$,fe]}class _t extends Be{constructor(e){super(),Oe(this,e,Gt,bt,Ie,{},null,[-1,-1])}}export{_t as default};
